<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Code Challenge</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #1a2530;
            --success: #2ecc71;
            --warning: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .instructions-section {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin: 2rem auto;
            max-width: 1000px;
        }
        
        .instructions-section h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .instruction-step {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background-color: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid var(--secondary);
        }
        
        .instruction-step h3 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
        }
        
        .tasks-section {
            padding: 3rem 0;
        }
        
        .task {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .task-header {
            background-color: var(--primary);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .task-title {
            font-size: 1.3rem;
        }
        
        .task-difficulty {
            background-color: var(--accent);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .task-content {
            padding: 1.5rem;
        }
        
        .task-description {
            margin-bottom: 1.5rem;
        }
        
        .code-editor {
            width: 100%;
            min-height: 200px;
            font-family: 'Courier New', monospace;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            resize: vertical;
            margin-bottom: 1rem;
            font-size: 14px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary);
            color: white;
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .btn-submit {
            background-color: var(--success);
        }
        
        .btn-submit:hover {
            background-color: #27ae60;
        }
        
        .btn-warning {
            background-color: var(--warning);
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
        }
        
        .github-section {
            background-color: var(--dark);
            color: white;
            padding: 3rem 0;
        }
        
        .github-form {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 8px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        .form-control {
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .form-row {
            display: flex;
            gap: 1rem;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .theory-section {
            padding: 3rem 0;
        }
        
        .theory-content {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .theory-item {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #eee;
        }
        
        .theory-item:last-child {
            border-bottom: none;
        }
        
        .theory-title {
            color: var(--secondary);
            margin-bottom: 0.5rem;
        }
        
        code {
            background-color: rgba(0, 0, 0, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        
        pre {
            background-color: #f8f8f8;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 1rem 0;
            border-left: 4px solid var(--secondary);
        }
        
        footer {
            background-color: var(--primary);
            color: white;
            text-align: center;
            padding: 1.5rem 0;
        }
        
        .message {
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
            display: none;
        }
        
        .message.success {
            background-color: rgba(46, 204, 113, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }
        
        .message.error {
            background-color: rgba(231, 76, 60, 0.2);
            border: 1px solid var(--accent);
            color: var(--accent);
        }
        
        @media (max-width: 768px) {
            .task-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Задания по программированию</h1>
        </div>
    </header>
    
    <section class="instructions-section">
        <div class="container">
            <h2>Инструкция по выполнению и отправке заданий</h2>
            
            <div class="instruction-step">
                <h3>Шаг 1: Выберите задание</h3>
                <p>Просмотрите все доступные задания в разделе ниже. Каждое задание имеет описание, требования к вводу и выводу, а также указание уровня сложности.</p>
            </div>
            
            <div class="instruction-step">
                <h3>Шаг 2: Напишите код решения</h3>
                <p>В поле для ввода кода под описанием задания напишите программу на Python, которая решает поставленную задачу. Убедитесь, что ваш код:</p>
                <ul>
                    <li>Корректно обрабатывает все указанные случаи</li>
                    <li>Соответствует формату ввода и вывода</li>
                    <li>Содержит необходимые импорты библиотек (например, <code>import random</code> для работы со случайными числами)</li>
                </ul>
            </div>
            
            <div class="instruction-step">
                <h3>Шаг 3: Отправьте решение на GitHub</h3>
                <p>После написания кода перейдите к разделу "Отправить решение на GitHub" и выполните следующие действия:</p>
                <ol>
                    <li>Выберите задачу, для которой написан код</li>
                    <li>Проверьте автоматически сгенерированное имя файла (можно изменить при необходимости)</li>
                    <li>Введите информативное сообщение коммита (например, "Решение задачи 1: проверка четности числа")</li>
                    <li>Укажите ваш email и имя для идентификации автора коммита</li>
                    <li>Нажмите кнопку "Отправить на GitHub"</li>
                </ol>
            </div>
            
            <div class="instruction-step">
                <h3>Шаг 4: Проверьте результат</h3>
                <p>После отправки вы получите уведомление об успешной отправке или ошибке. Ваш код будет сохранен в репозитории GitHub и доступен для проверки.</p>
            </div>
            
            <div class="instruction-step">
                <h3>Важные замечания:</h3>
                <ul>
                    <li>Все программы должны быть написаны на Python</li>
                    <li>Для работы со случайными числами обязательно используйте <code>import random</code> в начале программы</li>
                    <li>Убедитесь, что код соответствует формату ввода/вывода, указанному в задании</li>
                    <li>Проверьте код на различных тестовых случаях перед отправкой</li>
                </ul>
            </div>
        </div>
    </section>
    
    <section class="tasks-section">
        <div class="container">
            <div class="task">
                <div class="task-header">
                    <h2 class="task-title">Задача 1: Проверка четности числа</h2>
                    <span class="task-difficulty">Легкая</span>
                </div>
                <div class="task-content">
                    <div class="task-description">
                        <p>Напишите программу, которая запрашивает число у пользователя и выводит "Четное", если число четное, и "Нечетное" - если нет.</p>
                    </div>
                    <textarea class="code-editor" placeholder="Введите ваш код здесь..." data-task="1"></textarea>
                </div>
            </div>
            
            <div class="task">
                <div class="task-header">
                    <h2 class="task-title">Задача 2: Високосный год</h2>
                    <span class="task-difficulty">Легкая</span>
                </div>
                <div class="task-content">
                    <div class="task-description">
                        <p>Определите, является ли год високосным. Год високосный, если:</p>
                        <ul>
                            <li>делится на 4, но не делится на 100</li>
                            <li>или делится на 400</li>
                        </ul>
                    </div>
                    <textarea class="code-editor" placeholder="Введите ваш код здесь..." data-task="2"></textarea>
                </div>
            </div>
            
            <div class="task">
                <div class="task-header">
                    <h2 class="task-title">Задача 3: Угадай число</h2>
                    <span class="task-difficulty">Средняя</span>
                </div>
                <div class="task-content">
                    <div class="task-description">
                        <p>Программа загадывает случайное число от 1 до 100. Пользователь пытается угадать. Программа подсказывает "Больше" или "Меньше". При угадывании выводит поздравление.</p>
                    </div>
                    <textarea class="code-editor" placeholder="Введите ваш код здесь..." data-task="3"></textarea>
                </div>
            </div>
            
            <div class="task">
                <div class="task-header">
                    <h2 class="task-title">Задача 4: Велосипедная гонка</h2>
                    <span class="task-difficulty">Средняя</span>
                </div>
                <div class="task-content">
                    <div class="task-description">
                        <p>В главной велогонке года участвуют более тысячи гонщиков, которые должны пройти трассу длиной 43872 метра. Задача — определить победителя.</p>
                        <p>Нам известны средние скорости двух фаворитов — Пети и Васи. Помогите узнать, кто из них пришёл к финишу первым.</p>
                        <p><strong>Формат ввода:</strong><br>
                        В первой строке записана средняя скорость Пети.<br>
                        Во второй — Васи.</p>
                        <p><strong>Формат вывода:</strong><br>
                        Имя победителя гонки.</p>
                    </div>
                    <textarea class="code-editor" placeholder="Введите ваш код здесь..." data-task="4"></textarea>
                </div>
            </div>
        </div>
    </section>
    
    <section class="github-section">
        <div class="container">
            <h2>Отправить решение на GitHub</h2>
            <div class="github-form">
                <div id="github-message" class="message"></div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-select">Выберите задачу:</label>
                        <select id="task-select" class="form-control">
                            <option value="1">Задача 1: Проверка четности числа</option>
                            <option value="2">Задача 2: Високосный год</option>
                            <option value="3">Задача 3: Угадай число</option>
                            <option value="4">Задача 4: Велосипедная гонка</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="filename">Имя файла:</label>
                        <input type="text" id="filename" class="form-control" placeholder="task1.py" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="commit-message">Сообщение коммита:</label>
                    <input type="text" id="commit-message" class="form-control" placeholder="Решение задачи 1" required>
                </div>
                <div class="form-group">
                    <label for="user-email">Ваш email (для коммита):</label>
                    <input type="email" id="user-email" class="form-control" placeholder="user@example.com" required>
                </div>
                <div class="form-group">
                    <label for="user-name">Ваше имя (для коммита):</label>
                    <input type="text" id="user-name" class="form-control" placeholder="Иван Иванов" required>
                </div>
                <button type="button" class="btn btn-submit" id="github-submit">Отправить на GitHub</button>
            </div>
        </div>
    </section>
    
    <section class="theory-section">
        <div class="container">
            <h2>Теория: Модуль random в Python (В НАЧАЛЕ ВСЕГДА ПОДКЛЮЧИТЬ БИБЛИОТЕКУ ПРОПИСАВ В НАЧАЛЕ import random)</h2>
            <div class="theory-content">
                <div class="theory-item">
                    <h3 class="theory-title">random.random()</h3>
                    <p>Генерирует случайное число с плавающей точкой в диапазоне от 0.0 до 1.0, не включая верхнюю границу.</p>
                    <pre><code>import random

print(random.random())</code></pre>
                </div>
                
                <div class="theory-item">
                    <h3 class="theory-title">random.randint()</h3>
                    <p>Генерирует случайное целое число в заданном диапазоне, включая обе границы.</p>
                    <pre><code>number = random.randint(1, 10)

print(f"Случайное число: {number}")</code></pre>
                </div>
                
                <div class="theory-item">
                    <h3 class="theory-title">random.choice()</h3>
                    <p>Выбирает случайный элемент из переданной последовательности, работает со списками, кортежами, строками и другими итерируемыми объектами.</p>
                    <pre><code>colors = ['red', 'blue', 'green', 'yellow']

selected_color = random.choice(colors)

print(selected_color)</code></pre>
                </div>
                
                <div class="theory-item">
                    <h3 class="theory-title">random.shuffle()</h3>
                    <p>Перемешивает элементы списка непосредственно на месте, изменяет исходный список без создания нового объекта.</p>
                    <pre><code>deck = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

random.shuffle(deck)

print(deck)</code></pre>
                </div>
                
                <div class="theory-item">
                    <h3 class="theory-title">random.uniform()</h3>
                    <p>Генерирует случайное число с плавающей точкой в указанном диапазоне.</p>
                    <pre><code>value = random.uniform(1.5, 5.5)

print(value)</code></pre>
                </div>
                
                <div class="theory-item">
                    <h3 class="theory-title">random.sample()</h3>
                    <p>Возвращает случайную выборку из последовательности без повторений.</p>
                    <pre><code>numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

sample = random.sample(numbers, 3)

print(sample)</code></pre>
                </div>
            </div>
        </div>
    </section>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const GITHUB_TOKEN = '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';
            const REPO_OWNER = 'Zemskov6';
            const REPO_NAME = 'informatika_zadanija_and_dz';
            
            // Автозаполнение имени файла при выборе задачи
            const taskSelect = document.getElementById('task-select');
            const filenameInput = document.getElementById('filename');
            
            taskSelect.addEventListener('change', function() {
                const taskNumber = this.value;
                filenameInput.value = `task${taskNumber}.py`;
            });
            
            // Инициализация имени файла
            filenameInput.value = `task${taskSelect.value}.py`;
            
            // Обработчик отправки на GitHub
            const githubSubmit = document.getElementById('github-submit');
            const githubMessage = document.getElementById('github-message');
            
            githubSubmit.addEventListener('click', function() {
                const taskId = taskSelect.value;
                const filename = filenameInput.value;
                const commitMessage = document.getElementById('commit-message').value;
                const userEmail = document.getElementById('user-email').value;
                const userName = document.getElementById('user-name').value;
                
                // Проверка заполнения полей
                if (!filename || !commitMessage || !userEmail || !userName) {
                    showMessage('Пожалуйста, заполните все поля.', 'error');
                    return;
                }
                
                // Получаем код из соответствующего редактора
                const codeEditor = document.querySelector(`.code-editor[data-task="${taskId}"]`);
                const code = codeEditor.value;
                
                if (!code.trim()) {
                    showMessage('Пожалуйста, введите код для выбранной задачи.', 'error');
                    return;
                }
                
                // Отправка на GitHub
                pushToGitHub(filename, code, commitMessage, userEmail, userName);
            });
            
            // Функция для отправки кода на GitHub
            async function pushToGitHub(filename, code, commitMessage, userEmail, userName) {
                showMessage('Отправка на GitHub...', 'success');
                githubSubmit.disabled = true;
                githubSubmit.textContent = 'Отправка...';
                
                try {
                    // Получаем информацию о текущем файле (если существует)
                    let sha = null;
                    try {
                        const fileInfoResponse = await fetch(
                            `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/${filename}`,
                            {
                                headers: {
                                    'Authorization': `token ${GITHUB_TOKEN}`,
                                    'Accept': 'application/vnd.github.v3+json'
                                }
                            }
                        );
                        
                        if (fileInfoResponse.ok) {
                            const fileInfo = await fileInfoResponse.json();
                            sha = fileInfo.sha;
                        }
                    } catch (error) {
                        console.log('Файл не существует или ошибка при получении информации о файле');
                    }
                    
                    // Отправляем файл на GitHub
                    const response = await fetch(
                        `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/${filename}`,
                        {
                            method: 'PUT',
                            headers: {
                                'Authorization': `token ${GITHUB_TOKEN}`,
                                'Content-Type': 'application/json',
                                'Accept': 'application/vnd.github.v3+json'
                            },
                            body: JSON.stringify({
                                message: commitMessage,
                                content: btoa(unescape(encodeURIComponent(code))), // Кодируем в base64
                                sha: sha, // Если файл существует, обновляем его
                                committer: {
                                    name: userName,
                                    email: userEmail
                                },
                                author: {
                                    name: userName,
                                    email: userEmail
                                }
                            })
                        }
                    );
                    
                    if (response.ok) {
                        const result = await response.json();
                        console.log('Успешно отправлено на GitHub:', result);
                        showMessage('Код успешно отправлен на GitHub!', 'success');
                        
                        // Очистка формы
                        document.getElementById('commit-message').value = '';
                        document.querySelectorAll('.code-editor').forEach(editor => {
                            editor.value = '';
                        });
                    } else {
                        const error = await response.json();
                        console.error('Ошибка при отправке на GitHub:', error);
                        showMessage(`Ошибка при отправке на GitHub: ${error.message}`, 'error');
                    }
                } catch (error) {
                    console.error('Ошибка при отправке на GitHub:', error);
                    showMessage(`Ошибка при отправке на GitHub: ${error.message}`, 'error');
                } finally {
                    githubSubmit.disabled = false;
                    githubSubmit.textContent = 'Отправить на GitHub';
                }
            }
            
            // Функция для отображения сообщений
            function showMessage(text, type) {
                githubMessage.textContent = text;
                githubMessage.className = `message ${type}`;
                githubMessage.style.display = 'block';
                
                // Автоматическое скрытие сообщения через 5 секунд
                setTimeout(() => {
                    githubMessage.style.display = 'none';
                }, 5000);
            }
        });
    </script>
</body>
</html>
